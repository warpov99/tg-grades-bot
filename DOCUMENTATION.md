\# Документация проекта: TG Grades Bot



\## 1. Назначение

TG Grades Bot — Telegram-бот для учёта оценок за тесты по предметам, просмотра личной статистики и формирования лидерборда.  

Проект предназначен для учебного использования.



\## 2. Роли и права

\### 2.1 Пользователь

\- Регистрация (Имя Фамилия)

\- Добавление оценки по предмету

\- Просмотр личного кабинета (общая средняя + средняя по каждому предмету)

\- Просмотр лидерборда (общая средняя по всем предметам)

\- Удаление одной своей оценки

\- Удаление всех своих оценок



\### 2.2 Администратор (по TG ID)

\- Просмотр списка пользователей

\- Удаление пользователя (вместе с его оценками)

\- Добавление демо-пользователей

\- Добавление оценки любому пользователю

\- Удаление оценок у пользователя (одной или всех)



\## 3. Основные сценарии (Use Cases)

1\) Регистрация пользователя  

2\) Добавление оценки: выбрать предмет → выбрать/ввести оценку → сохранение  

3\) Просмотр личного кабинета: общая средняя + статистика по предметам  

4\) Просмотр лидерборда  

5\) Удаление одной оценки (по ID)  

6\) Админка: управление пользователями и оценками



\## 4. Алгоритмы расчёта

\- \*\*Средняя по предмету\*\* = AVG(оценок по предмету)

\- \*\*Общая средняя\*\* = AVG(всех оценок пользователя)

\- \*\*Лидерборд\*\* сортируется по:

&nbsp; 1) общей средней (убывание)

&nbsp; 2) количеству оценок (убывание)

&nbsp; 3) имени (по алфавиту)



\## 5. Хранение данных

Используется SQLite (файл `grades.db`, не загружается на GitHub).



Таблицы:

\- users(tg\_id, full\_name)

\- subjects(name)

\- grades(id, tg\_id, subject, grade, created\_at)



\## 6. Безопасность

\- Токен Telegram-бота не должен храниться в публичном репозитории

\- Доступ к админке ограничен списком ADMIN\_IDS



\## 7. Технологии

\- Python 3.x

\- aiogram 3.x

\- SQLite3



\## 8. Возможные улучшения

\- Топ по предмету

\- Фильтр статистики по времени (7/30 дней)

\- Экспорт отчёта в CSV/PDF

\- Веб-панель администратора



